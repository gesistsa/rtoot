<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Collecting and Analyzing Mastodon Data • rtoot</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Roboto-0.4.10/font.css" rel="stylesheet">
<link href="deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet">
<link href="deps/Roboto_Slab-0.4.10/font.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="Collecting and Analyzing Mastodon Data">
<meta name="description" content="An implementation of calls designed to collect and organize Mastodon data via its Application Program Interfaces (API), which can be found at the following URL: &lt;https://docs.joinmastodon.org/&gt;.">
<meta property="og:description" content="An implementation of calls designed to collect and organize Mastodon data via its Application Program Interfaces (API), which can be found at the following URL: &lt;https://docs.joinmastodon.org/&gt;.">
<meta property="og:image" content="https://gesistsa.github.io/rtoot/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">rtoot</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.5.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/rtoot.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/auth.html">Authentication with rtoot</a></li>
    <li><a class="dropdown-item" href="articles/stream.html">Live streaming toots</a></li>
  </ul>
</li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gesistsa/rtoot/wiki" aria-label="Wiki">Wiki</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gesistsa/rtoot/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="rtoot-">rtoot <a class="anchor" aria-label="anchor" href="#rtoot-"></a>
</h1>
</div>
<!-- badges: start -->

<p><a href="https://app.codecov.io/gh/gesistsa/rtoot" class="external-link"><img src="https://codecov.io/gh/gesistsa/rtoot/graph/badge.svg" alt="Codecov test coverage"></a> <!-- badges: end --></p>
<p>Interact with the <a href="https://docs.joinmastodon.org/api/" class="external-link">mastodon API</a> from R. Get started by reading <code><a href="articles/rtoot.html">vignette("rtoot")</a></code>.</p>
<p>Please cite this package as:</p>
<p>Schoch, D. &amp; Chan, C-h., (2023). Rtoot: Collecting and Analyzing Mastodon Data. Mobile Media &amp; Communication, <a href="https://doi.org/10.1177/20501579231176678" class="external-link uri">https://doi.org/10.1177/20501579231176678</a>.</p>
<p>For a BibTeX entry, use the output from <code>citation("rtoot")</code>.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>To get the current released version from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"rtoot"</span><span class="op">)</span></span></code></pre></div>
<p>You can install the development version of rtoot from GitHub:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"gesistsa/rtoot"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="authenticate">Authenticate<a class="anchor" aria-label="anchor" href="#authenticate"></a>
</h2>
<p>First you should set up your own credentials (see also <code><a href="articles/auth.html">vignette("auth")</a></code>)</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/auth_setup.html">auth_setup</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>The mastodon API allows different access levels. Setting up a token with your own account grants you the most access.</p>
</div>
<div class="section level2">
<h2 id="instances">Instances<a class="anchor" aria-label="anchor" href="#instances"></a>
</h2>
<p>In contrast to twitter, mastodon is not a single instance, but a federation of different servers. You sign up at a specific server (say “mastodon.social”) but can still communicate with others from other servers (say “fosstodon.org”). The existence of different instances makes API calls more complex. For example, some calls can only be made within your own instance (e.g <code><a href="reference/get_timeline_home.html">get_timeline_home()</a></code>), others can access all instances but you need to specify the instance as a parameter (e.g. <code><a href="reference/get_timeline_public.html">get_timeline_public()</a></code>).</p>
<p>A list of active instances can be obtained with <code><a href="reference/get_fedi_instances.html">get_fedi_instances()</a></code>. The results are sorted by number of users.</p>
<p>General information about an instance can be obtained with <code><a href="reference/get_instance.html">get_instance_general()</a></code></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/get_instance.html">get_instance_general</a></span><span class="op">(</span>instance <span class="op">=</span> <span class="st">"mastodon.social"</span><span class="op">)</span></span></code></pre></div>
<p><code><a href="reference/get_instance.html">get_instance_activity()</a></code> shows the activity for the last three months and <code><a href="reference/get_instance.html">get_instance_trends()</a></code> the trending hashtags of the week.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/get_instance.html">get_instance_activity</a></span><span class="op">(</span>instance <span class="op">=</span> <span class="st">"mastodon.social"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/get_instance.html">get_instance_trends</a></span><span class="op">(</span>instance <span class="op">=</span> <span class="st">"mastodon.social"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="get-toots">Get toots<a class="anchor" aria-label="anchor" href="#get-toots"></a>
</h2>
<p>To get the most recent toots of a specific instance use <code><a href="reference/get_timeline_public.html">get_timeline_public()</a></code></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/get_timeline_public.html">get_timeline_public</a></span><span class="op">(</span>instance <span class="op">=</span> <span class="st">"mastodon.social"</span><span class="op">)</span></span></code></pre></div>
<p>To get the most recent toots containing a specific hashtag use <code><a href="reference/get_timeline_hashtag.html">get_timeline_hashtag()</a></code></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/get_timeline_hashtag.html">get_timeline_hashtag</a></span><span class="op">(</span>hashtag <span class="op">=</span> <span class="st">"rstats"</span>, instance <span class="op">=</span> <span class="st">"mastodon.social"</span><span class="op">)</span></span></code></pre></div>
<p>The function <code><a href="reference/get_timeline_home.html">get_timeline_home()</a></code> allows you to get the most recent toots from your own timeline.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/get_timeline_home.html">get_timeline_home</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="get-accounts">Get accounts<a class="anchor" aria-label="anchor" href="#get-accounts"></a>
</h2>
<p><code>rtoot</code> exposes several account level endpoints. Most require the account id instead of the username as an input. There is, to our knowledge, no straightforward way of obtaining the account id. With the package you can get the id via <code><a href="reference/search_accounts.html">search_accounts()</a></code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/search_accounts.html">search_accounts</a></span><span class="op">(</span><span class="st">"schochastics"</span><span class="op">)</span></span></code></pre></div>
<p><em>(Future versions will allow to use the username and user id interchangeably)</em></p>
<p>Using the id, you can get the followers and following users with <code><a href="reference/get_account_followers.html">get_account_followers()</a></code> and <code><a href="reference/get_account_following.html">get_account_following()</a></code> and statuses with <code><a href="reference/get_account_statuses.html">get_account_statuses()</a></code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">id</span> <span class="op">&lt;-</span> <span class="st">"109302436954721982"</span></span>
<span><span class="fu"><a href="reference/get_account_followers.html">get_account_followers</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/get_account_following.html">get_account_following</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/get_account_statuses.html">get_account_statuses</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="posting-statuses">Posting statuses<a class="anchor" aria-label="anchor" href="#posting-statuses"></a>
</h2>
<p>You can post toots with:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/post_toot.html">post_toot</a></span><span class="op">(</span>status <span class="op">=</span> <span class="st">"my first rtoot #rstats"</span><span class="op">)</span></span></code></pre></div>
<p>It can also include media and alt_text.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/post_toot.html">post_toot</a></span><span class="op">(</span></span>
<span>    status <span class="op">=</span> <span class="st">"my first rtoot #rstats"</span>, media <span class="op">=</span> <span class="st">"path/to/media"</span>,</span>
<span>    alt_text <span class="op">=</span> <span class="st">"description of media"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>You can mark the toot as sensitive by setting <code>sensitive = TRUE</code> and add a spoiler text with <code>spoiler_text</code>.</p>
<p><em>(Be aware that excessive automated posting is frowned upon (or even against the ToS) in many instances. Make sure to check the ToS of your instance and be mindful when using this function.)</em></p>
</div>
<div class="section level2">
<h2 id="streaming">Streaming<a class="anchor" aria-label="anchor" href="#streaming"></a>
</h2>
<p><code>rtoot</code> allows to stream statuses from three different streams. To get any public status on any instance use <code><a href="reference/stream_timeline.html">stream_timeline_public()</a></code></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/stream_timeline.html">stream_timeline_public</a></span><span class="op">(</span>timeout <span class="op">=</span> <span class="fl">30</span>, file_name <span class="op">=</span> <span class="st">"public.json"</span><span class="op">)</span></span></code></pre></div>
<p>the timeout parameter is the time in seconds data should be streamed (set to <code>Inf</code> for indefinite streaming). If just the local timeline is needed, use <code>local=TRUE</code> and set an instance (or use your own provided by the token).</p>
<p><code><a href="reference/stream_timeline.html">stream_timeline_hashtag()</a></code> streams all statuses containing a specific hashtag</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/stream_timeline.html">stream_timeline_hashtag</a></span><span class="op">(</span><span class="st">"rstats"</span>, timeout <span class="op">=</span> <span class="fl">30</span>, file_name <span class="op">=</span> <span class="st">"rstats_public.json"</span><span class="op">)</span></span></code></pre></div>
<p>The statuses are directly written to file as json. The function <code><a href="reference/parse_stream.html">parse_stream()</a></code> can be used to read in and convert a json to a data frame.</p>
</div>
<div class="section level2">
<h2 id="pagination">Pagination<a class="anchor" aria-label="anchor" href="#pagination"></a>
</h2>
<p>All relevant functions in the package support pagination of results if the <code>limit</code> parameter is larger than the default page size (which is 40 in most cases). In this case, you may get more results than requested since the pages are always fetched as a whole. If you for example request 70 records, you will get 80 back, given that many records exist.</p>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that the rtoot project is released with a <a href="https://www.contributor-covenant.org/version/2/1/code_of_conduct/" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=rtoot" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/gesistsa/rtoot/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/gesistsa/rtoot/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing rtoot</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>David Schoch <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-2952-4812" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Chung-hong Chan <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-6232-7530" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=rtoot" class="external-link"><img src="https://www.r-pkg.org/badges/version/rtoot" alt="CRAN status"></a></li>
<li><a href="https://CRAN.R-project.org/package=rtoot" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/rtoot" alt="CRAN Downloads"></a></li>
<li><a href="https://github.com/gesistsa/rtoot/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/gesistsa/rtoot/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/gesistsa/rtoot?branch=main" class="external-link"><img src="https://codecov.io/gh/gesistsa/rtoot/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Schoch, Chung-hong Chan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
